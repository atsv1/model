<?xml version='1.0' encoding='Windows-1251'?>
<!-- Данный файл содержит пример описания исчерпаемого(материального) параметра-->
<Model name = "Модель1">
  <BlockList>
    <Block name = "Блок1" count = "1">
      <InnerParamList>
        <Param name = "materialParam1" type = "material" valuetype = "real" blockLink = "Блок2" paramLink = "param"
               linkIndex = "selfindex">
          <!-- Секция, описывающая источник информации о разрешении получения данных.
           Секция может отсутствовать, тогда считается, что параметр всегда будет пытаться получить данные из
           источника.
           В поле "value" должно указываться название уже существующей в блоке переменной. Переменная обязательно
            должна быть логического типа
          -->
          <RecieveDataFlag value = "название переменной">
          </RecieveDataFlag>
           <!-- Секция описывает то, как определяется количество, которое приемник желает получить из источника.
           Секция может отсутствовать, тогда считается, что источник желает получить из приемника все.
           В поле "value" должно указываться название уже существующей в блоке переменной. Переменная обязательно
           должна иметь тип либо integer, либо real
           -->
          <RecieveQuantity value = "название переменной, либо значение">
          </RecieveQuantity>
          <!-- Секция определяет, как рассчитывается количество, которое материальный парметр передает в приемник.
          Данная секция может отсутствовать, тогда считается, что источник передает в приемник все, что требует от него
          приемник.
          В атрибуте "value" хранится либо значение (дробное либо целое число), либо название переменной, в которую
          должен записываться результат выполнения скрипта, находящегося в данной секции.
          Название переменной не должно совпадать с названиями уже существующих в блоке переменных.
          В скрипте внутри этой секции может использоваться специальная переменная, в которой будет храниться
          количество, которое затребовал приемник у данного источника.  Название этой переменной формируется
          по следующему принципу: название материального параметра + "_orderQuantity". Так, для данного примера
          названием будет materialParam1_orderQuantity. 
          -->
          <OutgoingQuantity value = "название переменной, либо значение">
             <![CDATA[
               outgoingQuantity := materialParam1_orderQuantity / 2;
             ]]>
          </OutgoingQuantity>
          
          <IncomingCode>
            <![CDATA[
              этот код выполняется в момент получения данных материальным параметром-приемником.
              Переменная incomingValue_materialParam1 создается автоматически, в нее записывается
               значение, полученное из источника. Название переменной состояит из стандартного
               префикса incomingValue_ и названия материального параметра-приемника 
               lastIncomingValue := incomingValue_materialParam1;
             ]]>
          </IncomingCode>
          <Formula>
             <![CDATA[
               Здесь может находиться код, который изменяет значение материального параметра напрямую. Этот код
               функционирует аналогично коду в обычном нематериальном параметре
             ]]>
          </Formula>
        </Param>
      </InnerParamList>
    </Block>
    
  </BlockList>

 </Model>
